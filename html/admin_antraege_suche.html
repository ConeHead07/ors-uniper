
<link rel="STYLESHEET" type="text/css" href="{WebRoot}css/suchformular.css" />
<script src="{WebRoot}js/suchformular.antreage.easy.js" type="text/javascript"></script>	
<script src="{WebRoot}js/SelBox.easy.js" type="text/javascript"></script>	
<script src="{WebRoot}js/ObjectHandler.js" type="text/javascript"></script>
<link rel="STYLESHEET" type="text/css" href="{WebRoot}css/SelBox.easy.css" />
<link rel="stylesheet" type="text/css" href="{WebRoot}css/umzugsformular.css">
<style>
.frmSuche input.qField { width:200px; }
.frmSuche label { width:100px; margin-left:0; }
.frmSuche .options label {
	background: none;
	display: inline-block;
	color: initial;
	width: initial;
	border: none;
	box-sizing: border-box;
	width: 49%;
	text-align: left;
	cursor: pointer;
}
.frmSuche .options label {
	padding-right: 1rem;
}
</style>

<form name="frmSuche" class="frmSuche">
	<table>
		<tr>
			<td style="padding:0;width:200px;">
				<label for="as_vornachname" style="display:block;width:auto;">
					Vor &amp; Nachname
				</label></td>

			<td style="padding:0;width:250px;">
				<input type="text" id="as_vornachname" value="{q[a.vorname]}" name="q[a.vorname]" class="itxt itxt1col floatLeft">
				<input type="text" id="as_name" value="{q[a.name]}" name="q[a.name]" class="itxt itxt1col floatRight" title="Name">
			</td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_aid" style="display:block;width:auto;">Ticket-ID</label></td>
			<td style="padding:0;"><input type="text" id="q_aid" value="{q[a.aid]}" name="q[a.aid]" class="itxt itxt2col" title="Ticket-ID"></td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_tour" style="display:block;width:auto;">Tour-Kennung</label></td>
			<td style="padding:0;"><input type="text" id="q_tour" value="{q[a.tour_kennung]}" name="q[a.tour_kennung]" class="itxt itxt2col" title="Kennung für die Tourenplanung"></td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_kid" style="display:block;width:auto;">KID</label></td>
			<td style="padding:0;"><input type="text" id="q_kid" value="{q[u.kid]}" name="q[u.kid]" class="itxt itxt2col" title="KID"></td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_ort" style="display:block;width:auto;">Ort</label></td>
			<td style="padding:0;"><input type="text" id="q_ort" value="{q[a.ort]}" name="q[a.ort]" class="itxt itxt2col" title="Ort"></td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_plz" style="display:block;width:auto;">PLZ</label></td>
			<td style="padding:0;"><input type="text" id="q_plz" value="{q[a.plz]}" name="q[a.plz]" class="itxt itxt2col" title="Postleitzahl"></td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_strasse" style="display:block;width:auto;">Strasse</label></td>
			<td style="padding:0;"><input type="text" id="q_strasse" value="{q[a.strasse]}" name="q[a.strasse]" class="itxt itxt2col" title="Postleitzahl"></td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_land" style="display:block;width:auto;">Land</label></td>
			<td style="padding:0;"><input type="text" id="q_land" value="{q[a.land]}" name="q[a.land]" class="itxt itxt2col" title="Land" list="laenderauswahl"></td>
		</tr>
		<datalist id="laenderauswahl">
			<option>Deutschland</option>
			<option>Belgien</option>
			<option>England</option>
			<option>Niederlande</option>
			<option>Ungarn</option>
		</datalist>

		<tr>
			<td style="padding:0;"><label for="q_umzugsstatus" style="display:block;width:auto;">Status</label></td>
			<td style="padding:0;"><select id="q_umzugsstatus" value="{q[a.umzugsstatus]}" name="q[a.umzugsstatus]" class="iselect" title="Status">
				<option value=""></option>
				<option value="temp">temp / Bestellung noch nicht abgeschickt</option>
				<option value="beantragt">beantragt / bestellt</option>
				<option value="geprueft">geprueft / avisiert</option>
				<option value="abgeschlossen">abgeschlossen</option>
			</select></td>
		</tr>
		<tr>
			<td style="padding:0;min-height:1rem;background-color:#0075b5; vertical-align: top"><label for="q_land" style="display:block;width:auto;height:100%">
				Leistungsart
				<div style="color:#fff;font-size:x-small;">
					Sucht nach Aufträgen, die mind. eines dieser Kategorien enthalten.
				</div>
			</label></td>
			<td class="options" style="padding:0;" style="border:1px solid #0075B5;">
				<div>
					<label><input type="checkbox" name="q[kk.leistungskategorie][]" value="Schreibtisch"> Schreibtisch</label>
					<label><input type="checkbox" name="q[kk.leistungskategorie][]" value="Schreibtischlampe"> Lampe</label>
					<label><input type="checkbox" name="q[kk.leistungskategorie][]" value="Stuhl"> Stuhl</label>
					<label><input type="checkbox" name="q[kk.leistungskategorie][]" value="Rabatt"> Rabatt</label>
					<label><input type="checkbox" name="q[kk.leistungskategorie][]" value="Transportpositionen"> Transport</label>
				</div>
			</td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_plz" style="display:block;width:auto;">Leistung Beschr/Farbe/Gr</label></td>
			<td style="padding:0;"><input type="text" id="q_leistung" value="{q[lk.leistung]}" name="q[lk.leistung]" class="itxt itxt2col" title="Leistung"></td>
		</tr>
		<tr>
			<td style="padding:0;"><label for="q_bemerkungsstatus" style="display:block;width:auto;">Bemerkungsstatus</label></td>
			<td style="padding:0;"><select id="q_bemerkungsstatus" value="{q[a.bemerkungsstatus]}" name="q[a.bemerkungsstatus]" class="iselect">
				<option value=""></option>
				<option value="allemit">mit Bemerkung</option>
				<option value="neue">mit neuen Bemerkungen</option>
				<option value="gelesene">mit abgearbeiteten Bemerkungen</option>
				<option value="none">ohne Bemerkung</option>
			</select></td>
		</tr>
	</table>
	<script>
		var selectedUmzugsstatus = "{q[a.umzugsstatus]}";
		var selectedBmkstatus = "{q[a.bemerkungsstatus]}";
		var aCheckedKategorien = [/*aCheckedKategorienJson*/];
		$("#q_umzugsstatus").find("option[value="+selectedUmzugsstatus+"]").prop("selected", true);
		$("#q_bemerkungsstatus").find("option[value="+selectedBmkstatus+"]").prop("selected", true);

		if (Array.isArray(aCheckedKategorien) && aCheckedKategorien.length > 0) {
			aCheckedKategorien.forEach(function(val, idx) {
				$("input[type=checkbox][name*=leistungskategorie][value=" + val + "]").prop("checked", true);
			});
		}
	</script>

	<input type="hidden" name="View" value="Antraege">
<input type="submit" class="qSubmit" value="Suche starten">
<input type="hidden" name="sendquery" value="1">
<input type="hidden" name="s" value="{s}">
<!-- {hiddenFields} -->
</form>

