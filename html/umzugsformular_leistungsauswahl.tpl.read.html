{if !isset($show_menge_property)}{assign var="show_menge_property" value="0"}{/if}
{if !isset($show_menge2_property)}{assign var="show_menge2_property" value="0"}{/if}
{if !isset($show_menge_mertens)}{assign var="show_menge_mertens" value="0"}{/if}
{if !isset($show_menge2_mertens)}{assign var="show_menge2_mertens" value="0"}{/if}
{if !isset($show_unit1)}{assign var="show_unit1" value="0"}{/if}
{if !isset($show_unit2)}{assign var="show_unit2" value="0"}{/if}
{if !isset($PreiseAnzeigen)}{assign var="PreiseAnzeigen" value="0"}{/if}
{if !isset($show_menge_property)}{assign var="show_menge_property" value="0"}{/if}

{if false}umzugsformular_leistungsauswahl.tpl.read.html<br>{/if}
<link rel="stylesheet" type="text/css" href="{literal}{WebRoot}{/literal}/css/auftragsformular_leistungsauswahl.css"><style>
{literal}
tr.row * {
    font-size:1rem;
}
div.ktg1, div.lstg {
    min-height: 18px;
}
tr#summary td { 
    text-align:right;
    padding:5px;
    font-weight:bold;
}
td.unit {
    text-align:center;
}
td.menge, td.menge, input.menge, td.preis, td.sum {
    text-align:right;
}
.hideForUniper {
    display:none;
}
.MitarbeierItem.table-leistungen  .inputRowVon td,
.MitarbeierItem.table-leistungen  .inputRowZiel td,
.table-leistungen thead td,
.table-leistungen thead th,
.table-leistungen tbody td,
.table-leistungen td {
    padding-left:.5rem;
    padding-right: .5rem;
    vertical-align: top;
}
{/literal}
</style>
{if count($Umzugsleistungen)}
<h2 style="margin:0;padding:0" data-src="html/umzugsformular/leistungsauswahl/tpl/read/html">Leistungen</h2>

<table class="MitarbeierItem table-leistungen" style="margin-top:0;padding-top:0;width:100%;">
    <thead>
        <tr>
            <td>Kategorie</td>
            <td>Leistung</td>
            {if $show_menge_property}
            <td class="">Menge<span class=""> 1 DSD</span></td>
            {/if}
            {if $show_unit1}
            <td class="">Einheit 1</td>
            {/if}
            {if $show_menge2_property}
            <td class="">Menge 2 DSD</td>
            {/if}
            {if $show_unit2}
            <td class="">Einheit 2</td>
            {/if}
            {if $show_menge_mertens}
            <td class="">Menge1 M</td>
            {/if}
            {if $show_menge2_mertens}
            <td class="">Menge2 M</td>
            {/if}
            {if $PreiseAnzeigen}
            <td class="preis">Preis/Einh.</td>
            <td class="sum">Gesamt</td>
            {/if}
            {if $umzugsstatus eq "abgeschlossen"}
            <td class="hideForUniper">Rekla</td>
            {/if}
        </tr>
    </thead>
    <tbody id="TblLeistungenBody">
    {foreach name=GList item=L from=$Umzugsleistungen}
        {if $AS.autocalc_ref_mengen and ($L.kategorie_id eq "18" or $L.kategorie_id eq "25") }
            {continue}
        {/if}
        {* <tr><td colspan="3">{$L|json_encode}</td></tr> *}
        <tr class="row inputRowVon">
            <td class="ktg1">{$L.kategorie|escape}</td>
            <td class="lstg">
                {if !empty($L.image)}
                    <div class="bild">
                    <img src="images/leistungskatalog/{$L.image}" style="float:left;max-width:120px;max-height:120px;border:0;margin-right:1rem;margin-bottom:.5rem;">
                    </div>
                {/if}
                <div class="Bezeichnung">{$L.leistung|escape}</div>
                {if !empty($L.Beschreibung)}
                    <div class="Beschreibung">{$L.Beschreibung}</div>
                {/if}
                {if !empty($L.Farbe) || !empty($L.Groesse)}
                <div class="produkt_varianten">
                    {if !empty($L.Farbe)}{$L.Farbe|escape}{/if}
                    {if !empty($L.Groesse)}{if !empty($L.Farbe)}, {/if}{$L.Groesse|escape}{/if}
                </div>
                {/if}
                {if !empty($L.produkt_link)}
                    <div class="produkt_link">
                        <a href="{$L.produkt_link}" target="_PL{$L.leistung_id}">mehr Infos</a>
                    </div>
                {/if}
            </td>
            {if $show_menge_property}
            <td class="menge">{if is_numeric($L.menge_property)}{$L.menge_property|escape|number_format:0:",":"."}{/if}</td>
            {/if}
            {if $show_unit1}
            <td class="unit">{$L.leistungseinheit|escape}</td>
            {/if}
            {if $show_menge2_property}
            <td class="">{if is_numeric($L.menge2_property)}{$L.menge2_property|escape|number_format:2:",":"."}{/if}</td>
            {/if}
            {if $show_unit2}
            <td class="unit">{$L.leistungseinheit2|escape}</td>
            {/if}
            {if $show_menge_mertens}
            <td class="menge">{if is_numeric($L.menge_mertens)}{$L.menge_mertens|escape|number_format:2:",":"."}{/if}</td>
            {/if}
            {if $show_menge2_mertens}
            <td class="menge">{if is_numeric($L.menge2_mertens)}{$L.menge2_mertens|escape|number_format:2:",":"."}{/if}</td>
            {/if}
            {if $PreiseAnzeigen}<td class="preis">{$L.preis_pro_einheit}</td>
            <td class="sum">{if is_numeric($L.gesamtpreis)}{$L.gesamtpreis|escape|number_format:2:",":"."}{/if}</td>
            {/if}
            {if $umzugsstatus eq "abgeschlossen"}
            <td class="hideForUniper">Rekla</td>
            {/if}
        </tr>
    {/foreach}
        <tr id="summary">
        {if $PreiseAnzeigen}
            <td {if $umzugsstatus ne "abgeschlossen"}
                colspan="11"
                {else}
                colspan="10"
            {/if}><span id="allsum" data-allsum="0">{$Gesamtsumme|escape|number_format:2:",":"."}</span><span style="margin-left:5px">&euro;</span></td>
        {/if}
        </tr>
    </tbody>
</table>
{else}
<strong>Leistungen:</strong> <em>Keine </em> <br>
{/if}

